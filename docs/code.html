<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Adding code | oxforddown: An Oxford University Thesis Template for R Markdown</title>
  <meta name="description" content="oxforddown:<br />
An Oxford University Thesis<br />
Template for R Markdown" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Adding code | oxforddown: An Oxford University Thesis Template for R Markdown" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Adding code | oxforddown: An Oxford University Thesis Template for R Markdown" />
  
  
  

<meta name="author" content="Author Name" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rmd-basics.html"/>
<link rel="next" href="cites-and-refs.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="templates/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-use-it"><i class="fa fa-check"></i>Why use it?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-should-use-it"><i class="fa fa-check"></i>Who should use it?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="rmd-basics.html"><a href="rmd-basics.html"><i class="fa fa-check"></i><b>1</b> R Markdown Basics: The Markdown syntax</a><ul>
<li class="chapter" data-level="1.1" data-path="rmd-basics.html"><a href="rmd-basics.html#markdown-basic-syntax"><i class="fa fa-check"></i><b>1.1</b> Markdown basic syntax</a><ul>
<li class="chapter" data-level="1.1.1" data-path="rmd-basics.html"><a href="rmd-basics.html#italics-and-bold"><i class="fa fa-check"></i><b>1.1.1</b> Italics and bold</a></li>
<li class="chapter" data-level="1.1.2" data-path="rmd-basics.html"><a href="rmd-basics.html#inline-code"><i class="fa fa-check"></i><b>1.1.2</b> Inline code</a></li>
<li class="chapter" data-level="1.1.3" data-path="rmd-basics.html"><a href="rmd-basics.html#sub-and-superscript"><i class="fa fa-check"></i><b>1.1.3</b> Sub and superscript</a></li>
<li class="chapter" data-level="1.1.4" data-path="rmd-basics.html"><a href="rmd-basics.html#strikethrough"><i class="fa fa-check"></i><b>1.1.4</b> Strikethrough</a></li>
<li class="chapter" data-level="1.1.5" data-path="rmd-basics.html"><a href="rmd-basics.html#escaping-aka-what-if-i-need-an-actual-asterisk"><i class="fa fa-check"></i><b>1.1.5</b> ‘Escaping’ (aka “What if I need an actual asterisk?”)</a></li>
<li class="chapter" data-level="1.1.6" data-path="rmd-basics.html"><a href="rmd-basics.html#endash-emdash"><i class="fa fa-check"></i><b>1.1.6</b> Endash (–), emdash (—)</a></li>
<li class="chapter" data-level="1.1.7" data-path="rmd-basics.html"><a href="rmd-basics.html#blockquotes"><i class="fa fa-check"></i><b>1.1.7</b> Blockquotes</a></li>
<li class="chapter" data-level="1.1.8" data-path="rmd-basics.html"><a href="rmd-basics.html#headings"><i class="fa fa-check"></i><b>1.1.8</b> Headings</a></li>
<li class="chapter" data-level="1.1.9" data-path="rmd-basics.html"><a href="rmd-basics.html#lists"><i class="fa fa-check"></i><b>1.1.9</b> Lists</a></li>
<li class="chapter" data-level="1.1.10" data-path="rmd-basics.html"><a href="rmd-basics.html#line-breaks"><i class="fa fa-check"></i><b>1.1.10</b> Line breaks</a></li>
<li class="chapter" data-level="1.1.11" data-path="rmd-basics.html"><a href="rmd-basics.html#hyperlinks"><i class="fa fa-check"></i><b>1.1.11</b> Hyperlinks</a></li>
<li class="chapter" data-level="1.1.12" data-path="rmd-basics.html"><a href="rmd-basics.html#footnotes"><i class="fa fa-check"></i><b>1.1.12</b> Footnotes</a></li>
<li class="chapter" data-level="1.1.13" data-path="rmd-basics.html"><a href="rmd-basics.html#comments"><i class="fa fa-check"></i><b>1.1.13</b> Comments</a></li>
<li class="chapter" data-level="1.1.14" data-path="rmd-basics.html"><a href="rmd-basics.html#math"><i class="fa fa-check"></i><b>1.1.14</b> Math</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="rmd-basics.html"><a href="rmd-basics.html#additional-resources"><i class="fa fa-check"></i><b>1.2</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="code.html"><a href="code.html"><i class="fa fa-check"></i><b>2</b> Adding code</a><ul>
<li class="chapter" data-level="2.1" data-path="code.html"><a href="code.html#code-chunks"><i class="fa fa-check"></i><b>2.1</b> Code chunks</a><ul>
<li class="chapter" data-level="2.1.1" data-path="code.html"><a href="code.html#setup-chunks"><i class="fa fa-check"></i><b>2.1.1</b> Setup chunks</a></li>
<li class="chapter" data-level="2.1.2" data-path="code.html"><a href="code.html#including-images"><i class="fa fa-check"></i><b>2.1.2</b> Including images</a></li>
<li class="chapter" data-level="2.1.3" data-path="code.html"><a href="code.html#including-plots"><i class="fa fa-check"></i><b>2.1.3</b> Including plots</a></li>
<li class="chapter" data-level="2.1.4" data-path="code.html"><a href="code.html#including-tables"><i class="fa fa-check"></i><b>2.1.4</b> Including tables</a></li>
<li class="chapter" data-level="2.1.5" data-path="code.html"><a href="code.html#a-note-on-content-positioning"><i class="fa fa-check"></i><b>2.1.5</b> A note on content positioning</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="code.html"><a href="code.html#inline-code-1"><i class="fa fa-check"></i><b>2.2</b> Inline code</a><ul>
<li class="chapter" data-level="2.2.1" data-path="code.html"><a href="code.html#referring-to-results-computed-in-other-languages-than-r"><i class="fa fa-check"></i><b>2.2.1</b> Referring to results computed in other languages than R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cites-and-refs.html"><a href="cites-and-refs.html"><i class="fa fa-check"></i><b>3</b> Citations and cross-references</a><ul>
<li class="chapter" data-level="3.1" data-path="cites-and-refs.html"><a href="cites-and-refs.html#citations"><i class="fa fa-check"></i><b>3.1</b> Citations</a><ul>
<li class="chapter" data-level="3.1.1" data-path="cites-and-refs.html"><a href="cites-and-refs.html#pdf-output"><i class="fa fa-check"></i><b>3.1.1</b> PDF output</a></li>
<li class="chapter" data-level="3.1.2" data-path="cites-and-refs.html"><a href="cites-and-refs.html#gitbook-output"><i class="fa fa-check"></i><b>3.1.2</b> Gitbook output</a></li>
<li class="chapter" data-level="3.1.3" data-path="cites-and-refs.html"><a href="cites-and-refs.html#insert-references-easily-with-the-citr-add-in"><i class="fa fa-check"></i><b>3.1.3</b> Insert references easily with the <code>citr</code> add-in</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="cites-and-refs.html"><a href="cites-and-refs.html#cross-referencing"><i class="fa fa-check"></i><b>3.2</b> Cross-referencing</a><ul>
<li class="chapter" data-level="3.2.1" data-path="cites-and-refs.html"><a href="cites-and-refs.html#section-references"><i class="fa fa-check"></i><b>3.2.1</b> Section references</a></li>
<li class="chapter" data-level="3.2.2" data-path="cites-and-refs.html"><a href="cites-and-refs.html#figure-image-and-plot-references"><i class="fa fa-check"></i><b>3.2.2</b> Figure (image and plot) references</a></li>
<li class="chapter" data-level="3.2.3" data-path="cites-and-refs.html"><a href="cites-and-refs.html#table-references"><i class="fa fa-check"></i><b>3.2.3</b> Table references</a></li>
<li class="chapter" data-level="3.2.4" data-path="cites-and-refs.html"><a href="cites-and-refs.html#including-page-numbers"><i class="fa fa-check"></i><b>3.2.4</b> Including page numbers</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="cites-and-refs.html"><a href="cites-and-refs.html#customising-your-thesis-front-matter-n-stuff"><i class="fa fa-check"></i><b>3.3</b> Customising your thesis’ front matter ’n stuff</a><ul>
<li class="chapter" data-level="3.3.1" data-path="cites-and-refs.html"><a href="cites-and-refs.html#shorten-captions-shown-in-the-list-of-figures-pdf"><i class="fa fa-check"></i><b>3.3.1</b> Shorten captions shown in the list of figures (PDF)</a></li>
<li class="chapter" data-level="3.3.2" data-path="cites-and-refs.html"><a href="cites-and-refs.html#shorten-captions-shown-in-the-list-of-tables-pdf"><i class="fa fa-check"></i><b>3.3.2</b> Shorten captions shown in the list of tables (PDF)</a></li>
<li class="chapter" data-level="3.3.3" data-path="cites-and-refs.html"><a href="cites-and-refs.html#shorting-the-running-header-pdf"><i class="fa fa-check"></i><b>3.3.3</b> Shorting the running header (PDF)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><i class="fa fa-check"></i><b>4</b> Final Notes on The OxThesis template and on collaboration</a><ul>
<li class="chapter" data-level="4.1" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#beginning-chapters-with-quotes"><i class="fa fa-check"></i><b>4.1</b> Beginning chapters with quotes</a></li>
<li class="chapter" data-level="4.2" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#highlighting-corrections"><i class="fa fa-check"></i><b>4.2</b> Highlighting corrections</a><ul>
<li class="chapter" data-level="4.2.1" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#short-inline-corrections"><i class="fa fa-check"></i><b>4.2.1</b> Short, inline corrections</a></li>
<li class="chapter" data-level="4.2.2" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#blocks-of-added-or-changed-material"><i class="fa fa-check"></i><b>4.2.2</b> Blocks of added or changed material</a></li>
<li class="chapter" data-level="4.2.3" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#stopping-corrections-from-being-highlighted-in-the-output"><i class="fa fa-check"></i><b>4.2.3</b> Stopping corrections from being highlighted in the output</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#diving-in-to-the-oxthesis-latex-template"><i class="fa fa-check"></i><b>4.3</b> Diving in to the OxThesis LaTeX template</a></li>
<li class="chapter" data-level="4.4" data-path="final-notes-on-the-oxthesis-template-and-on-collaboration.html"><a href="final-notes-on-the-oxthesis-template-and-on-collaboration.html#collaborative-writing"><i class="fa fa-check"></i><b>4.4</b> Collaborative writing</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html"><i class="fa fa-check"></i><b>5</b> Customisations and extensions</a><ul>
<li class="chapter" data-level="5.1" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html#embedding-pdf-documents-as-chapters"><i class="fa fa-check"></i><b>5.1</b> Embedding PDF documents as chapters</a></li>
<li class="chapter" data-level="5.2" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html#customizing-referencing"><i class="fa fa-check"></i><b>5.2</b> Customizing referencing</a><ul>
<li class="chapter" data-level="5.2.1" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html#using-a-.csl-file-with-pandoc-instead-of-biblatex"><i class="fa fa-check"></i><b>5.2.1</b> Using a .csl file with pandoc instead of biblatex</a></li>
<li class="chapter" data-level="5.2.2" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html#biblatex-custom"><i class="fa fa-check"></i><b>5.2.2</b> Customizing biblatex and adding chapter bibliographies</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="customisations-and-extensions.html"><a href="customisations-and-extensions.html#customizing-the-page-headers-and-footers"><i class="fa fa-check"></i><b>5.3</b> Customizing the page headers and footers</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i>Conclusion</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="the-first-appendix.html"><a href="the-first-appendix.html"><i class="fa fa-check"></i><b>A</b> The First Appendix</a></li>
<li class="chapter" data-level="B" data-path="the-second-appendix-for-fun.html"><a href="the-second-appendix-for-fun.html"><i class="fa fa-check"></i><b>B</b> The Second Appendix, for Fun</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><code>oxforddown</code>:<br />
An Oxford University Thesis<br />
Template for R Markdown</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="code" class="section level1">
<h1><span class="header-section-number">2</span> Adding code</h1>
<p><!-- this will include a mini table of contents--></p>
<p>The magic of R Markdown is that we can add code within our document to make it dynamic.</p>
<p>We do this either as <em>code chunks</em> (generally used for loading libraries and data, performing calculations, and adding images, plots, and tables), or <em>inline code</em> (generally used for dynamically reporting results within our text).</p>
<div id="code-chunks" class="section level2">
<h2><span class="header-section-number">2.1</span> Code chunks</h2>
<p>The syntax of a code chunk is shown in Figure <a href="code.html#fig:chunk-parts">2.1</a>.</p>
<div class="figure"><span id="fig:chunk-parts"></span>
<img src="figures/chunk-parts.png" alt="Code chunk syntax" width="100%" />
<p class="caption">
Figure 2.1: Code chunk syntax
</p>
</div>
<p>Common chunk options include (see e.g. <a href="https://bookdown.org/yihui/rmarkdown/r-code.html">bookdown.org</a>):</p>
<ul>
<li><code>echo</code>: whether or not to display code in knitted output</li>
<li><code>eval</code>: whether or to to run the code in the chunk when knitting</li>
<li><code>include</code>: wheter to include anything from the from a code chunk in the output document</li>
<li><code>fig.cap</code>: figure caption</li>
<li><code>fig.scap</code>: short figure caption, which will be used in the ‘List of Figures’ in the PDF front matter</li>
</ul>
<p><strong>IMPORTANT</strong>: Do <em>not</em> use underscoores in your chunk labels - if you do, you are likely to get an error in PDF output saying something like “! Package caption Error: \caption outside float”.</p>
<div id="setup-chunks" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Setup chunks</h3>
<p>An R Markdown document usually begins with a chunk that is used to <strong>load libraries</strong>, and to <strong>set default chunk options</strong> with <code>knitr::opts_chunk$set</code>.</p>
<p>In your thesis, this will probably happen in <strong>index.Rmd</strong> and/or as opening chunks in each of your chapters.</p>
<pre><code>```{r setup, include=FALSE}
# don&#39;t show code unless we explicitly set echo = TRUE
knitr::opts_chunk$set(echo = FALSE)

library(tidyverse)
```</code></pre>
</div>
<div id="including-images" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Including images</h3>
<p>Code chunks are also used for including images, with <code>include_graphics</code> from the <code>knitr</code> package, as in Figure <a href="code.html#fig:oxford-logo">2.2</a></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;figures/beltcrest.png&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:oxford-logo"></span>
<img src="figures/beltcrest.png" alt="Oxford logo" width="50%" />
<p class="caption">
Figure 2.2: Oxford logo
</p>
</div>
<p>Useful chunk options for figures include:</p>
<ul>
<li><code>out.width</code> (use with a percentage) for setting the image size</li>
<li>if you’ve got an image that gets waaay to big in your output, it will be constrained to the page width by setting <code>out.width = &quot;100%&quot;</code></li>
</ul>
<div id="figure-rotation" class="section level4 unnumbered">
<h4>Figure rotation</h4>
<p>You can use the chunk option <code>out.extra</code> to rotate images.</p>
<p>The syntax is different for LaTeX and HTML, so for ease we might start by assigning the right string to a variable that depends on the format you’re outputting to:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="cf">if</span> (knitr<span class="op">::</span>opts_knit<span class="op">$</span><span class="kw">get</span>(<span class="st">&#39;rmarkdown.pandoc.to&#39;</span>) <span class="op">==</span><span class="st"> &#39;latex&#39;</span>){</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">  rotate180 &lt;-<span class="st"> &quot;angle=180&quot;</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">  rotate180 &lt;-<span class="st"> &quot;style=&#39;transform:rotate(180deg);&#39;&quot;</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5">}</a></code></pre></div>
<p>Then you can reference that variable as the value of <code>out.extra</code> to rotate images, as in Figure <a href="code.html#fig:oxford-logo-rotated">2.3</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:oxford-logo-rotated"></span>
<img src="figures/beltcrest.png" alt="Oxford logo, rotated" width="50%" style='transform:rotate(180deg);' />
<p class="caption">
Figure 2.3: Oxford logo, rotated
</p>
</div>
</div>
</div>
<div id="including-plots" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Including plots</h3>
<p>Similarly, code chunks are used for including dynamically generated plots.
You use ordinary code in R or other languages - Figure <a href="code.html#fig:cars-plot">2.4</a> shows a plot of the <code>cars</code> dataset of stopping distances for cars at various speeds (this dataset is built in to <strong>R</strong>).</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">cars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">    </span><span class="kw">aes</span>(<span class="dt">x =</span> speed, <span class="dt">y =</span> dist) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">    </span><span class="kw">geom_point</span>()</a></code></pre></div>
<div class="figure"><span id="fig:cars-plot"></span>
<img src="_main_files/figure-html/cars-plot-1.png" alt="A ggplot of car stuff" width="672" />
<p class="caption">
Figure 2.4: A ggplot of car stuff
</p>
</div>
<p>Under the hood, plots are included in your document in the same way as images - when you build the book or knit a chapter, the plot is automatically generated from your code, saved as an image, then included into the output document.</p>
</div>
<div id="including-tables" class="section level3">
<h3><span class="header-section-number">2.1.4</span> Including tables</h3>
<p>Tables are usually included with the <code>kable</code> function from the <code>knitr</code> package.</p>
<p>Table <a href="code.html#tab:cars-table">2.1</a> shows the first rows of that cars data - read in your own data, then use this approach to automatically generate tables.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">cars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw">head</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span>knitr<span class="op">::</span><span class="kw">kable</span>(<span class="dt">caption =</span> <span class="st">&quot;A knitr kable table&quot;</span>)</a></code></pre></div>
<table>
<caption><span id="tab:cars-table">Table 2.1: </span>A knitr kable table</caption>
<thead>
<tr class="header">
<th align="right">speed</th>
<th align="right">dist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
<ul>
<li>Gotcha: when using <a href="https://www.rdocumentation.org/packages/knitr/versions/1.21/topics/kable"><code>kable</code></a>, captions are set inside the <code>kable</code> function</li>
<li>The <code>kable</code> package is often used with the <a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html"><code>kableExtra</code></a> package</li>
</ul>
</div>
<div id="a-note-on-content-positioning" class="section level3">
<h3><span class="header-section-number">2.1.5</span> A note on content positioning</h3>
<p>One thing that may be annoying is the way <em>R Markdown</em> handles “floats” like tables and figures.</p>
<p>In your PDF output, LaTeX will try to find the best place to put your object based on the text around it and until you’re really, truly done writing you should just leave it where it lies.</p>
<p>When the time comes for you to make final tweaks to content positioning, read the relevant <a href="https://bookdown.org/yihui/rmarkdown/">R Markdown documentation</a> to see if there are easy ways to do what you want.</p>
<p>If you have very specific needs, you might have to read up on LaTeX (<a href="https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions" class="uri">https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions</a>) for your PDF output and/or on how to style HTML documents with CSS for your gitbook output.</p>
</div>
</div>
<div id="inline-code-1" class="section level2">
<h2><span class="header-section-number">2.2</span> Inline code</h2>
<p>‘Inline code’ simply means inclusion of code inside text.</p>
<p>The syntax for doing this is <code>`r R_CODE`</code></p>
<p>For example, <code>`r 4 + 4`</code> would output 8 in your text.</p>
<p>You will usually use this in parts of your thesis where you report results - read in data or results in a code chunk, store things you want to report in a variable, then insert the value of that variable in your text.</p>
<p>For example, we might assign the number of rows in the <code>cars</code> dataset to a variable:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">num_car_observations &lt;-<span class="st"> </span><span class="kw">nrow</span>(cars)</a></code></pre></div>
<p>We might then write:<br />
“In the <code>cars</code> dataset, we have <code>`r num_car_observations`</code> observations.”</p>
<p>Which would output:<br />
“In the <code>cars</code> dataset, we have 50 observations.”</p>
<div id="referring-to-results-computed-in-other-languages-than-r" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Referring to results computed in other languages than R</h3>
<p>I’ve commented the below section out, to avoid compilation errors from the <code>reticulate</code> package being unable to find a python installation (after I installed MacOS Catalina, <code>reticulate</code> was unable to select a python version on my system, and I had to set it manually with <code>use_python</code>).</p>
<p>If you need to use other langauges, have a look at the content I commented out by the end of the <strong>02-rmd-basics-code.Rmd</strong> file, which gives an example of using Python in your R Markdown file.</p>
<!--
[At the moment](https://stackoverflow.com/questions/47818461/is-there-a-way-in-knitr-to-evaluate-inline-code-chunks-of-other-languages), inline code only works with R, so syntax such as `` `python code here` `` is not valid.
However, you can use the [`reticulate`](https://rstudio.github.io/reticulate/articles/r_markdown.html) package to access variables from python chunks. Here's a Python code chunk:
-->
<!-- The `reticulate` package allows **R** to access variables defined in python environments with the syntax `py$variable`: -->
<!--
This means that inline, we can include results from python chunks with `` `r py$variable` ``.
-->

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rmd-basics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="cites-and-refs.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ulyngs/oxforddown/tree/master/02-rmd-basics-code.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
